[hekad]
max_timer_inject = 100
maxprocs = 1
max_process_duration = 1000000

[TcpInput]
address = "0.0.0.0:5565"
parser_type = "message.proto"
decoder = "ProtobufDecoder"

[DashboardOutput]
ticker_interval = 5

[FxaSandbox]
type = "SandboxManagerFilter"
message_matcher = "Type == 'heka.control.sandbox'"
max_filters = 15

[FxaAuthMemory]
type = "SandboxFilter"
script_type = "lua"
filename = "lua_filters/fxa_auth_memory.lua"
ticker_interval = 60
preserve_data = true
message_matcher = "Logger == 'FxaAuth' && Type == 'stat' && Fields[stat] == 'mem'"

    [FxaAuthMemory.config]
    anomaly_config = 'mww("Fxa Auth Server", 1, 30, 10, 0.0001, increasing)'
